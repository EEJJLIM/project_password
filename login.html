<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ë¡œê·¸ì¸</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
</head>
<body>
  <div class="container py-5">
    <div class="card p-4 shadow mx-auto" style="max-width: 400px;">
      <h2 class="text-center mb-4">ğŸ” ë¡œê·¸ì¸</h2>
      <form onsubmit="handleLogin(event)">
        <div class="mb-3">
          <label for="email" class="form-label">ì´ë©”ì¼</label>
          <input type="email" class="form-control" id="email" required />
        </div>
        <div class="mb-3">
          <label for="password" class="form-label">ë¹„ë°€ë²ˆí˜¸</label>
          <input type="password" class="form-control" id="password" required />
        </div>
        <button type="submit" class="btn btn-primary w-100">ë¡œê·¸ì¸</button>
        <div class="text-center mt-3">
          <a href="signup.html">íšŒì›ê°€ì… â†’</a>
        </div>
      </form>
    </div>
  </div>

  <script>
    const MAX_ATTEMPTS = 5;
    const LOCKOUT_TIME = 5 * 60 * 1000; // 5ë¶„ (ë°€ë¦¬ì´ˆ)

    function handleLogin(event) {
      event.preventDefault();

      const email = document.getElementById("email").value;
      const password = document.getElementById("password").value;

      // ì˜ˆì‹œ: ì‹¤ì œë¡œëŠ” signup.htmlì—ì„œ ì…ë ¥ëœ ì •ë³´ë¥¼ ì €ì¥í•˜ê³  ë¶ˆëŸ¬ì˜¤ëŠ” êµ¬ì¡°ë¡œ ë°”ê¿€ ìˆ˜ ìˆìŒ
      const correctEmail = "test@example.com";
      const correctPassword = "123456";

      const attempts = parseInt(localStorage.getItem("loginAttempts") || "0");
      const lockTime = parseInt(localStorage.getItem("lockTime") || "0");
      const now = Date.now();

      // ì ê¸ˆ ìƒíƒœ í™•ì¸
      if (lockTime && now < lockTime) {
        const remaining = Math.ceil((lockTime - now) / 1000);
        alert(`ğŸš« ë¡œê·¸ì¸ ì ê¸ˆ ì¤‘ì…ë‹ˆë‹¤. ${Math.ceil(remaining / 60)}ë¶„ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.`);
        return;
      }

      // ë¡œê·¸ì¸ ì •ë³´ í™•ì¸
      if (email === correctEmail && password === correctPassword) {
        alert("âœ… ë¡œê·¸ì¸ ì„±ê³µ!");
        localStorage.removeItem("loginAttempts");
        localStorage.removeItem("lockTime");
        window.location.href = "index.html"; // ë¡œê·¸ì¸ ì„±ê³µ ì‹œ ì´ë™
      } else {
        const newAttempts = attempts + 1;
        localStorage.setItem("loginAttempts", newAttempts);

        if (newAttempts >= MAX_ATTEMPTS) {
          const newLockTime = now + LOCKOUT_TIME;
          localStorage.setItem("lockTime", newLockTime);
          alert("ğŸš« ë¹„ë°€ë²ˆí˜¸ë¥¼ 5íšŒ ì´ìƒ í‹€ë ¸ìŠµë‹ˆë‹¤. 5ë¶„ê°„ ë¡œê·¸ì¸í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");
        } else {
          alert(`âŒ ë¡œê·¸ì¸ ì‹¤íŒ¨ (${newAttempts}íšŒ ì‹¤íŒ¨). 5íšŒ ì´ìƒ ì‹¤íŒ¨ ì‹œ ì ê¸ˆë©ë‹ˆë‹¤.`);
        }
      }
    }
  </script>
</body>
</html>
