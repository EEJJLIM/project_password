<!DOCTYPE html>
<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>í™ˆ - ë¹„ë°€ë²ˆí˜¸ ìƒì„±ê¸°</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <style>
    #password {
      margin-top: 1rem;
      font-size: 1.1rem;
      font-weight: bold;
      font-family: 'Courier New', Courier, monospace;
      word-break: break-all;
      color: #333;
    }
  </style>
</head>
<body>
  <div class="container py-5">
    <div class="card p-4 shadow mx-auto" style="max-width: 500px;">
      <h2 class="text-center mb-4">ğŸ”‘ ë¡œê·¸ì¸ ì •ë³´</h2>
      <div id="userStatus" class="mb-4 text-center"></div>

      <hr />

      <h3 class="text-center">ğŸ” ë¹„ë°€ë²ˆí˜¸ ìƒì„±ê¸°</h3>

      <label for="length" class="form-label">ë¹„ë°€ë²ˆí˜¸ ê¸¸ì´: <span id="lengthValue">12</span></label>
      <input type="range" id="length" min="4" max="32" value="12" class="form-range" onchange="updateLengthLabel()" />

      <div class="form-check">
        <input class="form-check-input" type="checkbox" id="includeLower" checked>
        <label class="form-check-label" for="includeLower">ì†Œë¬¸ì í¬í•¨</label>
      </div>
      <div class="form-check">
        <input class="form-check-input" type="checkbox" id="includeUpper" checked>
        <label class="form-check-label" for="includeUpper">ëŒ€ë¬¸ì í¬í•¨</label>
      </div>
      <div class="form-check">
        <input class="form-check-input" type="checkbox" id="includeNumbers" checked>
        <label class="form-check-label" for="includeNumbers">ìˆ«ì í¬í•¨</label>
      </div>
      <div class="form-check">
        <input class="form-check-input" type="checkbox" id="includeSymbols">
        <label class="form-check-label" for="includeSymbols">ê¸°í˜¸ í¬í•¨</label>
      </div>

      <button onclick="generatePassword()" class="btn btn-success w-100 mt-3">ë¹„ë°€ë²ˆí˜¸ ìƒì„±</button>

      <div id="password" class="text-center mt-3"></div>
      <button onclick="copyPassword()" class="btn btn-secondary w-100 mt-2">ğŸ“‹ ë³µì‚¬</button>

      <a href="login.html" class="btn btn-warning w-100 mt-4">ë¡œê·¸ì•„ì›ƒ</a>
    </div>
  </div>

  <script>
    // ë¡œê·¸ì¸ëœ ìœ ì € ì •ë³´ í‘œì‹œ
    const userEmail = localStorage.getItem("userEmail");
    const userPassword = localStorage.getItem("userPassword");
    const userStatus = document.getElementById("userStatus");

    if (userEmail && userPassword) {
      userStatus.innerHTML = `<p>ë¡œê·¸ì¸ëœ ì‚¬ìš©ì: <strong>${userEmail}</strong></p>`;
    } else {
      userStatus.innerHTML = `<p class="text-danger">âŒ ë¡œê·¸ì¸ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.</p>`;
    }

    // ë¹„ë°€ë²ˆí˜¸ ê¸¸ì´ ë¼ë²¨ ì—…ë°ì´íŠ¸
    function updateLengthLabel() {
      const length = document.getElementById("length").value;
      document.getElementById("lengthValue").textContent = length;
    }

    // ë¹„ë°€ë²ˆí˜¸ ìƒì„± í•¨ìˆ˜
    function generatePassword() {
      const length = parseInt(document.getElementById("length").value);
      const includeLower = document.getElementById("includeLower").checked;
      const includeUpper = document.getElementById("includeUpper").checked;
      const includeNumbers = document.getElementById("includeNumbers").checked;
      const includeSymbols = document.getElementById("includeSymbols").checked;

      let chars = "";
      if (includeLower) chars += "abcdefghijklmnopqrstuvwxyz";
      if (includeUpper) chars += "ABCDEFGHIJKLMNOPQRSTUVWXYZ";
      if (includeNumbers) chars += "0123456789";
      if (includeSymbols) chars += "!@#$%^&*()_+-=[]{}|;:,.<>?";

      if (chars.length === 0) {
        document.getElementById("password").textContent = "âš ï¸ ìµœì†Œ í•˜ë‚˜ì˜ ì˜µì…˜ì„ ì„ íƒí•˜ì„¸ìš”.";
        return;
      }

      let password = "";
      for (let i = 0; i < length; i++) {
        password += chars[Math.floor(Math.random() * chars.length)];
      }

      document.getElementById("password").textContent = password;
    }

    // ë¹„ë°€ë²ˆí˜¸ ë³µì‚¬ í•¨ìˆ˜
    function copyPassword() {
      const password = document.getElementById("password").textContent;
      if (!password || password.includes("âš ï¸")) return;

      navigator.clipboard.writeText(password)
        .then(() => alert("ğŸ“‹ ë³µì‚¬ ì™„ë£Œ!"))
        .catch(() => alert("âŒ ë³µì‚¬ ì‹¤íŒ¨!"));
    }
  </script>
</body>
</html>